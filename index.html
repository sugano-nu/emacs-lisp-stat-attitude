<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja" xml:lang="ja">
<head>
<!-- 2016-02-04 Thu 01:56 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="viewport" content="width=device-width, initial-scale=1" />
<title>Emacs Lisp Stat - data(attitude)</title>
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="sugano" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="sugano-styles-dark.css">
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Emacs Lisp Stat - data(attitude)</h1>
<div id="table-of-contents">
<h2>&#30446;&#27425;</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgheadline1">1. Abstract</a></li>
<li><a href="#orgheadline9">2. R: DSL for Statistical Data Analysis</a>
<ul>
<li><a href="#orgheadline2">2.1. attitude data in R</a></li>
<li><a href="#orgheadline3">2.2. scatterplot by pairs()</a></li>
<li><a href="#orgheadline4">2.3. Scatterplot by pairs.panels()</a></li>
<li><a href="#orgheadline5">2.4. Regression Analysis by lm()</a></li>
<li><a href="#orgheadline6">2.5. Variable Selection</a></li>
<li><a href="#orgheadline7">2.6. Results of Regression Analysis</a></li>
<li><a href="#orgheadline8">2.7. Regression Diagnosis</a></li>
</ul>
</li>
<li><a href="#orgheadline18">3. Emacs Lisp: It's a LISP.</a>
<ul>
<li><a href="#orgheadline10">3.1. Making CSV Data</a></li>
<li><a href="#orgheadline11">3.2. list of attitude</a></li>
<li><a href="#orgheadline12">3.3. variable list</a></li>
<li><a href="#orgheadline13">3.4. Data</a></li>
<li><a href="#orgheadline14">3.5. Emacs Lisp Stat Function</a></li>
<li><a href="#orgheadline15">3.6. Mean</a></li>
<li><a href="#orgheadline16">3.7. Multiple Means: Programming with Emacs Lisp</a></li>
<li><a href="#orgheadline17">3.8. Multiple Means: Just too easy for R</a></li>
</ul>
</li>
<li><a href="#orgheadline19">4. GNUPLOT</a></li>
<li><a href="#orgheadline20">5. Conclusion for the Moment</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline1" class="outline-2">
<h2 id="orgheadline1"><span class="section-number-2">1</span> Abstract</h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li><a href="http://sugano-nu.github.io/emacs-lisp-stat-attitude/">http://sugano-nu.github.io/emacs-lisp-stat-attitude/</a></li>
<li>R and Emacs Lisp for Data Analysis
<ul class="org-ul">
<li>R is Domain Specific Language for data analysis.</li>
<li>Emacs Lisp is so much flexible.</li>
</ul></li>

<li>References
<ul class="org-ul">
<li><a href="https://www1.doshisha.ac.jp/~mjin/R/14.html">フリーソフトによるデータ解析・マイニング　第14回 Rと重回帰分析</a></li>
<li><a href="http://www.is.titech.ac.jp/~mase/mase/html.jp/temp/attitude.jp.html">R: 管理者に対する態度</a></li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline9" class="outline-2">
<h2 id="orgheadline9"><span class="section-number-2">2</span> R: DSL for Statistical Data Analysis</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-orgheadline2" class="outline-3">
<h3 id="orgheadline2"><span class="section-number-3">2.1</span> attitude data in R</h3>
<div class="outline-text-3" id="text-2-1">
<div class="org-src-container">

<pre class="src src-R">help(attitude)
</pre>
</div>

<pre class="example">
The Chatterjee-Price Attitude Data

Description:

     From a survey of the clerical employees of a large financial
     organization, the data are aggregated from the questionnaires of
     the approximately 35 employees for each of 30 (randomly selected)
     departments.  The numbers give the percent proportion of
     favourable responses to seven questions in each department.

Usage:

     attitude
     
Format:

     A data frame with 30 observations on 7 variables. The first column
     are the short names from the reference, the second one the
     variable names in the data frame:

          Y  rating      numeric  Overall rating                    
       X[1]  complaints  numeric  Handling of employee complaints   
       X[2]  privileges  numeric  Does not allow special privileges 
       X[3]  learning    numeric  Opportunity to learn              
       X[4]  raises      numeric  Raises based on performance       
       X[5]  critical    numeric  Too critical                      
       X[6]  advancel    numeric  Advancement                       
      
Source:

     Chatterjee, S. and Price, B. (1977) _Regression Analysis by
     Example_.  New York: Wiley.  (Section 3.7, p.68ff of 2nd
     ed.(1991).)

Examples:

     require(stats); require(graphics)
     pairs(attitude, main = "attitude data")
     summary(attitude)
     summary(fm1 &lt;- lm(rating ~ ., data = attitude))
     opar &lt;- par(mfrow = c(2, 2), oma = c(0, 0, 1.1, 0),
                 mar = c(4.1, 4.1, 2.1, 1.1))
     plot(fm1)
     summary(fm2 &lt;- lm(rating ~ complaints, data = attitude))
     plot(fm2)
     par(opar)
</pre>





<div class="org-src-container">

<pre class="src src-R">data(attitude)
attitude[1:5, ]
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">&#xa0;</th>
<th scope="col" class="org-right">rating</th>
<th scope="col" class="org-right">complaints</th>
<th scope="col" class="org-right">privileges</th>
<th scope="col" class="org-right">learning</th>
<th scope="col" class="org-right">raises</th>
<th scope="col" class="org-right">critical</th>
<th scope="col" class="org-right">advance</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">1</td>
<td class="org-right">43</td>
<td class="org-right">51</td>
<td class="org-right">30</td>
<td class="org-right">39</td>
<td class="org-right">61</td>
<td class="org-right">92</td>
<td class="org-right">45</td>
</tr>

<tr>
<td class="org-right">2</td>
<td class="org-right">63</td>
<td class="org-right">64</td>
<td class="org-right">51</td>
<td class="org-right">54</td>
<td class="org-right">63</td>
<td class="org-right">73</td>
<td class="org-right">47</td>
</tr>

<tr>
<td class="org-right">3</td>
<td class="org-right">71</td>
<td class="org-right">70</td>
<td class="org-right">68</td>
<td class="org-right">69</td>
<td class="org-right">76</td>
<td class="org-right">86</td>
<td class="org-right">48</td>
</tr>

<tr>
<td class="org-right">4</td>
<td class="org-right">61</td>
<td class="org-right">63</td>
<td class="org-right">45</td>
<td class="org-right">47</td>
<td class="org-right">54</td>
<td class="org-right">84</td>
<td class="org-right">35</td>
</tr>

<tr>
<td class="org-right">5</td>
<td class="org-right">81</td>
<td class="org-right">78</td>
<td class="org-right">56</td>
<td class="org-right">66</td>
<td class="org-right">71</td>
<td class="org-right">83</td>
<td class="org-right">47</td>
</tr>
</tbody>
</table>


<p>
Here are the correlations.
</p>

<div class="org-src-container">

<pre class="src src-R">round(cor(attitude),2)
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-right">rating</th>
<th scope="col" class="org-right">complaints</th>
<th scope="col" class="org-right">privileges</th>
<th scope="col" class="org-right">learning</th>
<th scope="col" class="org-right">raises</th>
<th scope="col" class="org-right">critical</th>
<th scope="col" class="org-right">advance</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">rating</td>
<td class="org-right">1</td>
<td class="org-right">0.83</td>
<td class="org-right">0.43</td>
<td class="org-right">0.62</td>
<td class="org-right">0.59</td>
<td class="org-right">0.16</td>
<td class="org-right">0.16</td>
</tr>

<tr>
<td class="org-left">complaints</td>
<td class="org-right">0.83</td>
<td class="org-right">1</td>
<td class="org-right">0.56</td>
<td class="org-right">0.6</td>
<td class="org-right">0.67</td>
<td class="org-right">0.19</td>
<td class="org-right">0.22</td>
</tr>

<tr>
<td class="org-left">privileges</td>
<td class="org-right">0.43</td>
<td class="org-right">0.56</td>
<td class="org-right">1</td>
<td class="org-right">0.49</td>
<td class="org-right">0.45</td>
<td class="org-right">0.15</td>
<td class="org-right">0.34</td>
</tr>

<tr>
<td class="org-left">learning</td>
<td class="org-right">0.62</td>
<td class="org-right">0.6</td>
<td class="org-right">0.49</td>
<td class="org-right">1</td>
<td class="org-right">0.64</td>
<td class="org-right">0.12</td>
<td class="org-right">0.53</td>
</tr>

<tr>
<td class="org-left">raises</td>
<td class="org-right">0.59</td>
<td class="org-right">0.67</td>
<td class="org-right">0.45</td>
<td class="org-right">0.64</td>
<td class="org-right">1</td>
<td class="org-right">0.38</td>
<td class="org-right">0.57</td>
</tr>

<tr>
<td class="org-left">critical</td>
<td class="org-right">0.16</td>
<td class="org-right">0.19</td>
<td class="org-right">0.15</td>
<td class="org-right">0.12</td>
<td class="org-right">0.38</td>
<td class="org-right">1</td>
<td class="org-right">0.28</td>
</tr>

<tr>
<td class="org-left">advance</td>
<td class="org-right">0.16</td>
<td class="org-right">0.22</td>
<td class="org-right">0.34</td>
<td class="org-right">0.53</td>
<td class="org-right">0.57</td>
<td class="org-right">0.28</td>
<td class="org-right">1</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgheadline3" class="outline-3">
<h3 id="orgheadline3"><span class="section-number-3">2.2</span> scatterplot by pairs()</h3>
<div class="outline-text-3" id="text-2-2">
<div class="org-src-container">

<pre class="src src-R">par(family = <span style="color: #ffc1c1;">"HiraKakuProN-W3"</span>) <span style="color: #fa8072;">## </span><span style="color: #ff7f24; font-style: italic;">&#8592; Windows&#12391;&#12399;&#23455;&#34892;&#12375;&#12394;&#12356;</span>
pairs(attitude, panel = panel.smooth, names(attitude))
</pre>
</div>


<div id="orgparagraph1" class="figure">
<p><img src="figures/emacs-lisp-stat-attitude-R-pairs-01.png" alt="emacs-lisp-stat-attitude-R-pairs-01.png" width="480" />
</p>
<p><span class="figure-number">&#22259;1: </span> emacs-lisp-stat-attitude-R-pairs-01</p>
</div>
</div>
</div>


<div id="outline-container-orgheadline4" class="outline-3">
<h3 id="orgheadline4"><span class="section-number-3">2.3</span> Scatterplot by pairs.panels()</h3>
<div class="outline-text-3" id="text-2-3">
<div class="org-src-container">

<pre class="src src-R">par(family = <span style="color: #ffc1c1;">"HiraKakuProN-W3"</span>) <span style="color: #fa8072;">## </span><span style="color: #ff7f24; font-style: italic;">&#8592; Windows&#12391;&#12399;&#23455;&#34892;&#12375;&#12394;&#12356;</span>
<span style="color: #8470ff; font-weight: bold;">library</span>(psych)
pairs.panels(attitude, scale = <span style="color: #63b8ff;">TRUE</span>)
</pre>
</div>


<div id="orgparagraph2" class="figure">
<p><img src="figures/emacs-lisp-stat-attitude-R-pairs-panels-01.png" alt="emacs-lisp-stat-attitude-R-pairs-panels-01.png" width="480" />
</p>
<p><span class="figure-number">&#22259;2: </span> emacs-lisp-stat-attitude-R-pairs-panels-01</p>
</div>
</div>
</div>



<div id="outline-container-orgheadline5" class="outline-3">
<h3 id="orgheadline5"><span class="section-number-3">2.4</span> Regression Analysis by lm()</h3>
<div class="outline-text-3" id="text-2-4">
<div class="org-src-container">

<pre class="src src-R">attitude.lm1 <span style="color: #8470ff; font-weight: bold;">&lt;-</span> lm(rating ~ ., data = attitude)
summary(attitude.lm1)
</pre>
</div>

<pre class="example">
Call:
lm(formula = rating ~ ., data = attitude)

Residuals:
     Min       1Q   Median       3Q      Max 
-10.9418  -4.3555   0.3158   5.5425  11.5990 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 10.78708   11.58926   0.931 0.361634    
complaints   0.61319    0.16098   3.809 0.000903 ***
privileges  -0.07305    0.13572  -0.538 0.595594    
learning     0.32033    0.16852   1.901 0.069925 .  
raises       0.08173    0.22148   0.369 0.715480    
critical     0.03838    0.14700   0.261 0.796334    
advance     -0.21706    0.17821  -1.218 0.235577    
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Residual standard error: 7.068 on 23 degrees of freedom
Multiple R-squared:  0.7326,	Adjusted R-squared:  0.6628 
F-statistic:  10.5 on 6 and 23 DF,  p-value: 0.0000124
</pre>
</div>
</div>

<div id="outline-container-orgheadline6" class="outline-3">
<h3 id="orgheadline6"><span class="section-number-3">2.5</span> Variable Selection</h3>
<div class="outline-text-3" id="text-2-5">
<div class="org-src-container">

<pre class="src src-R">attitude.lm2 <span style="color: #8470ff; font-weight: bold;">&lt;-</span> step(attitude.lm1)
</pre>
</div>

<pre class="example">
Start:  AIC=123.36
rating ~ complaints + privileges + learning + raises + critical + 
    advance

             Df Sum of Sq    RSS    AIC
- critical    1      3.41 1152.4 121.45
- raises      1      6.80 1155.8 121.54
- privileges  1     14.47 1163.5 121.74
- advance     1     74.11 1223.1 123.24
&lt;none&gt;                    1149.0 123.36
- learning    1    180.50 1329.5 125.74
- complaints  1    724.80 1873.8 136.04

Step:  AIC=121.45
rating ~ complaints + privileges + learning + raises + advance

             Df Sum of Sq    RSS    AIC
- raises      1     10.61 1163.0 119.73
- privileges  1     14.16 1166.6 119.82
- advance     1     71.27 1223.7 121.25
&lt;none&gt;                    1152.4 121.45
- learning    1    177.74 1330.1 123.75
- complaints  1    724.70 1877.1 134.09

Step:  AIC=119.73
rating ~ complaints + privileges + learning + advance

             Df Sum of Sq    RSS    AIC
- privileges  1     16.10 1179.1 118.14
- advance     1     61.60 1224.6 119.28
&lt;none&gt;                    1163.0 119.73
- learning    1    197.03 1360.0 122.42
- complaints  1   1165.94 2328.9 138.56

Step:  AIC=118.14
rating ~ complaints + learning + advance

             Df Sum of Sq    RSS    AIC
- advance     1     75.54 1254.7 118.00
&lt;none&gt;                    1179.1 118.14
- learning    1    186.12 1365.2 120.54
- complaints  1   1259.91 2439.0 137.94

Step:  AIC=118
rating ~ complaints + learning

             Df Sum of Sq    RSS    AIC
&lt;none&gt;                    1254.7 118.00
- learning    1    114.73 1369.4 118.63
- complaints  1   1370.91 2625.6 138.16
</pre>
</div>
</div>


<div id="outline-container-orgheadline7" class="outline-3">
<h3 id="orgheadline7"><span class="section-number-3">2.6</span> Results of Regression Analysis</h3>
<div class="outline-text-3" id="text-2-6">
<div class="org-src-container">

<pre class="src src-R">summary(attitude.lm2)
</pre>
</div>

<pre class="example">
Call:
lm(formula = rating ~ complaints + learning, data = attitude)

Residuals:
     Min       1Q   Median       3Q      Max 
-11.5568  -5.7331   0.6701   6.5341  10.3610 

Coefficients:
            Estimate Std. Error t value   Pr(&gt;|t|)    
(Intercept)   9.8709     7.0612   1.398      0.174    
complaints    0.6435     0.1185   5.432 0.00000957 ***
learning      0.2112     0.1344   1.571      0.128    
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Residual standard error: 6.817 on 27 degrees of freedom
Multiple R-squared:  0.708,	Adjusted R-squared:  0.6864 
F-statistic: 32.74 on 2 and 27 DF,  p-value: 0.00000006058
</pre>




<p>
Regression Equation is:
</p>

<pre class="example">
rating = 9.8709 + 0.6435 × complaints + 0.2112 × earning
</pre>
</div>
</div>



<div id="outline-container-orgheadline8" class="outline-3">
<h3 id="orgheadline8"><span class="section-number-3">2.7</span> Regression Diagnosis</h3>
<div class="outline-text-3" id="text-2-7">
<div class="org-src-container">

<pre class="src src-R">par(family = <span style="color: #ffc1c1;">"HiraKakuProN-W3"</span>) <span style="color: #fa8072;">## </span><span style="color: #ff7f24; font-style: italic;">&#8592; Windows&#12391;&#12399;&#23455;&#34892;&#12375;&#12394;&#12356;</span>
par(mfrow = c(2, 2))
plot(attitude.lm2)
</pre>
</div>


<div id="orgparagraph3" class="figure">
<p><img src="figures/emacs-lisp-stat-attitude-R-plot-lm.png" alt="emacs-lisp-stat-attitude-R-plot-lm.png" width="480" />
</p>
<p><span class="figure-number">&#22259;3: </span> emacs-lisp-stat-attitude-R-plot-lm</p>
</div>
</div>
</div>
</div>


<div id="outline-container-orgheadline18" class="outline-2">
<h2 id="orgheadline18"><span class="section-number-2">3</span> Emacs Lisp: It's a LISP.</h2>
<div class="outline-text-2" id="text-3">
</div><div id="outline-container-orgheadline10" class="outline-3">
<h3 id="orgheadline10"><span class="section-number-3">3.1</span> Making CSV Data</h3>
<div class="outline-text-3" id="text-3-1">
<pre class="example">
-rw-r--r--@ 1 sugano  staff  850  2  3 19:59 attitude.csv
      31      31     850 attitude.csv
</pre>
</div>
</div>


<div id="outline-container-orgheadline11" class="outline-3">
<h3 id="orgheadline11"><span class="section-number-3">3.2</span> list of attitude</h3>
<div class="outline-text-3" id="text-3-2">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq dd
      (<span style="color: #00ffff;">with-temp-buffer</span>
        (org-table-import (expand-file-name file) nil)
        (org-table-to-lisp)))
(setq LIST-VAR (car dd))
(setq dd (cdr dd))
</pre>
</div>
</div>
</div>



<div id="outline-container-orgheadline12" class="outline-3">
<h3 id="orgheadline12"><span class="section-number-3">3.3</span> variable list</h3>
<div class="outline-text-3" id="text-3-3">
<div class="org-src-container">

<pre class="src src-emacs-lisp">LIST-VAR
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">rating</td>
<td class="org-left">complaints</td>
<td class="org-left">privileges</td>
<td class="org-left">learning</td>
<td class="org-left">raises</td>
<td class="org-left">critical</td>
<td class="org-left">advance</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgheadline13" class="outline-3">
<h3 id="orgheadline13"><span class="section-number-3">3.4</span> Data</h3>
<div class="outline-text-3" id="text-3-4">
<ul class="org-ul">
<li>first line of data</li>
</ul>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(car dd)
</pre>
</div>

<pre class="example">
("1" "43" "51" "30" "39" "61" "92" "45")
</pre>


<ul class="org-ul">
<li>last line of data</li>
</ul>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(car (reverse dd))
</pre>
</div>

<pre class="example">
("30" "82" "82" "39" "59" "64" "78" "39")
</pre>
</div>
</div>


<div id="outline-container-orgheadline14" class="outline-3">
<h3 id="orgheadline14"><span class="section-number-3">3.5</span> Emacs Lisp Stat Function</h3>
<div class="outline-text-3" id="text-3-5">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #00ffff;">require</span> '<span style="color: #8470ff; font-weight: bold;">cl-lib</span>)
(<span style="color: #00ffff;">require</span> '<span style="color: #8470ff; font-weight: bold;">calc</span>)

(<span style="color: #00ffff;">defun</span> <span style="color: #00fa9a; font-size: 110%; font-weight: bold;">els-mean</span> (N LIST-OF-DATA)
  <span style="color: #f08080; font-style: italic;">"Calculate an arithmetic mean of N th column of LIST-OF-DATA.</span>
<span style="color: #f08080; font-style: italic;">The first column is 0 th."</span>
  (setq LIST (<span style="color: #ff8c00; font-weight: bold;">mapcar*</span> #'(<span style="color: #00ffff;">lambda</span> (x) (nth N x)) LIST-OF-DATA))
  (string-to-number (math-format-number
                     (calcFunc-vmean
                      (cons 'vec (<span style="color: #ff8c00; font-weight: bold;">mapcar*</span> #'(<span style="color: #00ffff;">lambda</span> (X) (math-read-number X))
                                          LIST))))))

(<span style="color: #00ffff;">defun</span> <span style="color: #00fa9a; font-size: 110%; font-weight: bold;">els-varp</span> (N LIST-OF-DATA)
  <span style="color: #f08080; font-style: italic;">"Calculate a population variance of N th column of LIST-OF-DATA.</span>
<span style="color: #f08080; font-style: italic;">The first column is 0 th."</span>
  (setq LIST (<span style="color: #ff8c00; font-weight: bold;">mapcar*</span> #'(<span style="color: #00ffff;">lambda</span> (x) (nth N x)) LIST-OF-DATA))
  (string-to-number (math-format-number
                     (calcFunc-vpvar
                      (cons 'vec (<span style="color: #ff8c00; font-weight: bold;">mapcar*</span> #'(<span style="color: #00ffff;">lambda</span> (X) (math-read-number X))
                                          LIST))))))

(<span style="color: #00ffff;">defun</span> <span style="color: #00fa9a; font-size: 110%; font-weight: bold;">els-var</span> (N LIST-OF-DATA)
  <span style="color: #f08080; font-style: italic;">"Calculate an unbiased variance of N th column of LIST-OF-DATA.</span>
<span style="color: #f08080; font-style: italic;">The first column is 0 th."</span>
  (setq LIST (<span style="color: #ff8c00; font-weight: bold;">mapcar*</span> #'(<span style="color: #00ffff;">lambda</span> (x) (nth N x)) LIST-OF-DATA))
  (string-to-number (math-format-number
                     (calcFunc-vvar
                      (cons 'vec (<span style="color: #ff8c00; font-weight: bold;">mapcar*</span> #'(<span style="color: #00ffff;">lambda</span> (X) (math-read-number X))
                                          LIST))))))

(<span style="color: #00ffff;">defun</span> <span style="color: #00fa9a; font-size: 110%; font-weight: bold;">els-sd</span> (N LIST-OF-DATA)
  <span style="color: #f08080; font-style: italic;">"Calculate an unbiased standard deviation of N th column of LIST-OF-DATA.</span>
<span style="color: #f08080; font-style: italic;">The first column is 0 th."</span>
  (setq LIST (<span style="color: #ff8c00; font-weight: bold;">mapcar*</span> #'(<span style="color: #00ffff;">lambda</span> (x) (nth N x)) LIST-OF-DATA))
  (sqrt (string-to-number (math-format-number
                           (calcFunc-vvar
                            (cons 'vec (<span style="color: #ff8c00; font-weight: bold;">mapcar*</span> #'(<span style="color: #00ffff;">lambda</span> (X) (math-read-number X))
                                                LIST)))))))

(<span style="color: #00ffff;">defun</span> <span style="color: #00fa9a; font-size: 110%; font-weight: bold;">els-cor</span> (N1 N2 LIST-OF-DATA)
  <span style="color: #f08080; font-style: italic;">"Calculate a correlation of coefficient of N1 and N2 th column of LIST-OF-DATA.</span>
<span style="color: #f08080; font-style: italic;">The first column is 0 th."</span>
  (setq LISTX (<span style="color: #ff8c00; font-weight: bold;">mapcar*</span> #'(<span style="color: #00ffff;">lambda</span> (x) (nth N1 x)) LIST-OF-DATA))
  (setq LISTY (<span style="color: #ff8c00; font-weight: bold;">mapcar*</span> #'(<span style="color: #00ffff;">lambda</span> (y) (nth N2 y)) LIST-OF-DATA))
  (string-to-number (math-format-number
                     (calcFunc-vcorr
                      (cons 'vec (<span style="color: #ff8c00; font-weight: bold;">mapcar*</span> #'(<span style="color: #00ffff;">lambda</span> (X) (math-read-number X))
                                          LISTX))
                      (cons 'vec (<span style="color: #ff8c00; font-weight: bold;">mapcar*</span> #'(<span style="color: #00ffff;">lambda</span> (Y) (math-read-number Y))
                                          LISTY))))))

(<span style="color: #00ffff;">defun</span> <span style="color: #00fa9a; font-size: 110%; font-weight: bold;">els-cov</span> (N1 N2 LIST-OF-DATA)
  <span style="color: #f08080; font-style: italic;">"Calculate a covariance of N1 and N2 th column of LIST-OF-DATA.</span>
<span style="color: #f08080; font-style: italic;">The first column is 0 th."</span>
  (setq LISTX (<span style="color: #ff8c00; font-weight: bold;">mapcar*</span> #'(<span style="color: #00ffff;">lambda</span> (x) (nth N1 x)) LIST-OF-DATA))
  (setq LISTY (<span style="color: #ff8c00; font-weight: bold;">mapcar*</span> #'(<span style="color: #00ffff;">lambda</span> (y) (nth N2 y)) LIST-OF-DATA))
  (string-to-number (math-format-number
                     (calcFunc-vcov
                      (cons 'vec (<span style="color: #ff8c00; font-weight: bold;">mapcar*</span> #'(<span style="color: #00ffff;">lambda</span> (X) (math-read-number X))
                                          LISTX))
                      (cons 'vec (<span style="color: #ff8c00; font-weight: bold;">mapcar*</span> #'(<span style="color: #00ffff;">lambda</span> (Y) (math-read-number Y))
                                          LISTY))))))

(<span style="color: #00ffff;">defun</span> <span style="color: #00fa9a; font-size: 110%; font-weight: bold;">els-round</span> (VALUE N)
  <span style="color: #f08080; font-style: italic;">"Rounds the numeric value to the specified number of decimal places."</span>
  (/ (* 1.0 (round (* VALUE (expt 10 N))))
     (expt 10 N)))
</pre>
</div>

<pre class="example">
els-round
</pre>
</div>
</div>



<div id="outline-container-orgheadline15" class="outline-3">
<h3 id="orgheadline15"><span class="section-number-3">3.6</span> Mean</h3>
<div class="outline-text-3" id="text-3-6">
<div class="org-src-container">

<pre class="src src-emacs-lisp">LIST-VAR
</pre>
</div>

<pre class="example">
("" "rating" "complaints" "privileges" "learning" "raises" "critical" "advance")
</pre>


<div class="org-src-container">

<pre class="src src-emacs-lisp">(els-mean 1 dd)
</pre>
</div>

<pre class="example">
64.6333333333
</pre>
</div>
</div>


<div id="outline-container-orgheadline16" class="outline-3">
<h3 id="orgheadline16"><span class="section-number-3">3.7</span> Multiple Means: Programming with Emacs Lisp</h3>
<div class="outline-text-3" id="text-3-7">
<p>
I had to struggle for a while to get the same result as in R.
</p>

<p>
List data structure use here in Emacs Lisp is very simple for the moment.
</p>
<ul class="org-ul">
<li>No variable labels.</li>
<li>No factor or value labels.</li>
</ul>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(number-sequence 1 7)
</pre>
</div>

<pre class="example">
(1 2 3 4 5 6 7)
</pre>


<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #ff8c00; font-weight: bold;">mapcar*</span> #'(<span style="color: #00ffff;">lambda</span> (N) (els-mean N dd))
         (number-sequence 1 7))
</pre>
</div>

<pre class="example">
(64.6333333333 66.6 53.1333333333 56.3666666667 64.6333333333 74.7666666667 42.9333333333)
</pre>


<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #ff8c00; font-weight: bold;">mapcar*</span> #'(<span style="color: #00ffff;">lambda</span> (N) (els-round (els-mean N dd) 2))
         (number-sequence 1 7))
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<tbody>
<tr>
<td class="org-right">64.63</td>
<td class="org-right">66.6</td>
<td class="org-right">53.13</td>
<td class="org-right">56.37</td>
<td class="org-right">64.63</td>
<td class="org-right">74.77</td>
<td class="org-right">42.93</td>
</tr>
</tbody>
</table>


<ul class="org-ul">
<li>Means with Title of Variable Names</li>
</ul>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(list
 (cdr LIST-VAR)
 'hline
 (<span style="color: #ff8c00; font-weight: bold;">mapcar*</span> #'(<span style="color: #00ffff;">lambda</span> (N) (els-round (els-mean N dd) 2))
          (number-sequence 1 7)))
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">rating</th>
<th scope="col" class="org-right">complaints</th>
<th scope="col" class="org-right">privileges</th>
<th scope="col" class="org-right">learning</th>
<th scope="col" class="org-right">raises</th>
<th scope="col" class="org-right">critical</th>
<th scope="col" class="org-right">advance</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">64.63</td>
<td class="org-right">66.6</td>
<td class="org-right">53.13</td>
<td class="org-right">56.37</td>
<td class="org-right">64.63</td>
<td class="org-right">74.77</td>
<td class="org-right">42.93</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgheadline17" class="outline-3">
<h3 id="orgheadline17"><span class="section-number-3">3.8</span> Multiple Means: Just too easy for R</h3>
<div class="outline-text-3" id="text-3-8">
<p>
Ah, everything is so easy in R environment.
</p>

<div class="org-src-container">

<pre class="src src-R">t(round(colMeans(attitude), 2))
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">rating</th>
<th scope="col" class="org-right">complaints</th>
<th scope="col" class="org-right">privileges</th>
<th scope="col" class="org-right">learning</th>
<th scope="col" class="org-right">raises</th>
<th scope="col" class="org-right">critical</th>
<th scope="col" class="org-right">advance</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">64.63</td>
<td class="org-right">66.6</td>
<td class="org-right">53.13</td>
<td class="org-right">56.37</td>
<td class="org-right">64.63</td>
<td class="org-right">74.77</td>
<td class="org-right">42.93</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


<div id="outline-container-orgheadline19" class="outline-2">
<h2 id="orgheadline19"><span class="section-number-2">4</span> GNUPLOT</h2>
<div class="outline-text-2" id="text-4">
<div class="org-src-container">

<pre class="src src-emacs-lisp" id="orgsrcblock1">'((0 0.1) (0.1 1) (0.5 10)))
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<tbody>
<tr>
<td class="org-right">0</td>
<td class="org-right">0.1</td>
</tr>

<tr>
<td class="org-right">0.1</td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-right">0.5</td>
<td class="org-right">10</td>
</tr>
</tbody>
</table>


<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #00ffff;">defun</span> <span style="color: #00fa9a; font-size: 110%; font-weight: bold;">transpose</span> (a)
  (apply #'<span style="color: #ff8c00; font-weight: bold;">mapcar*</span> #'list a))
</pre>
</div>

<pre class="example">
transpose
</pre>



<div class="org-src-container">

<pre class="src src-emacs-lisp" id="orgsrcblock2">(transpose
 (list
  (<span style="color: #ff8c00; font-weight: bold;">second</span> (transpose dd)) 
  (<span style="color: #ff8c00; font-weight: bold;">third</span> (transpose dd))))
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<tbody>
<tr>
<td class="org-right">43</td>
<td class="org-right">51</td>
</tr>

<tr>
<td class="org-right">63</td>
<td class="org-right">64</td>
</tr>

<tr>
<td class="org-right">71</td>
<td class="org-right">70</td>
</tr>

<tr>
<td class="org-right">61</td>
<td class="org-right">63</td>
</tr>

<tr>
<td class="org-right">81</td>
<td class="org-right">78</td>
</tr>

<tr>
<td class="org-right">43</td>
<td class="org-right">55</td>
</tr>

<tr>
<td class="org-right">58</td>
<td class="org-right">67</td>
</tr>

<tr>
<td class="org-right">71</td>
<td class="org-right">75</td>
</tr>

<tr>
<td class="org-right">72</td>
<td class="org-right">82</td>
</tr>

<tr>
<td class="org-right">67</td>
<td class="org-right">61</td>
</tr>

<tr>
<td class="org-right">64</td>
<td class="org-right">53</td>
</tr>

<tr>
<td class="org-right">67</td>
<td class="org-right">60</td>
</tr>

<tr>
<td class="org-right">69</td>
<td class="org-right">62</td>
</tr>

<tr>
<td class="org-right">68</td>
<td class="org-right">83</td>
</tr>

<tr>
<td class="org-right">77</td>
<td class="org-right">77</td>
</tr>

<tr>
<td class="org-right">81</td>
<td class="org-right">90</td>
</tr>

<tr>
<td class="org-right">74</td>
<td class="org-right">85</td>
</tr>

<tr>
<td class="org-right">65</td>
<td class="org-right">60</td>
</tr>

<tr>
<td class="org-right">65</td>
<td class="org-right">70</td>
</tr>

<tr>
<td class="org-right">50</td>
<td class="org-right">58</td>
</tr>

<tr>
<td class="org-right">50</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-right">64</td>
<td class="org-right">61</td>
</tr>

<tr>
<td class="org-right">53</td>
<td class="org-right">66</td>
</tr>

<tr>
<td class="org-right">40</td>
<td class="org-right">37</td>
</tr>

<tr>
<td class="org-right">63</td>
<td class="org-right">54</td>
</tr>

<tr>
<td class="org-right">66</td>
<td class="org-right">77</td>
</tr>

<tr>
<td class="org-right">78</td>
<td class="org-right">75</td>
</tr>

<tr>
<td class="org-right">48</td>
<td class="org-right">57</td>
</tr>

<tr>
<td class="org-right">85</td>
<td class="org-right">85</td>
</tr>

<tr>
<td class="org-right">82</td>
<td class="org-right">82</td>
</tr>
</tbody>
</table>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<tbody>
<tr>
<td class="org-right">43</td>
<td class="org-right">51</td>
</tr>

<tr>
<td class="org-right">63</td>
<td class="org-right">64</td>
</tr>

<tr>
<td class="org-right">71</td>
<td class="org-right">70</td>
</tr>

<tr>
<td class="org-right">61</td>
<td class="org-right">63</td>
</tr>

<tr>
<td class="org-right">81</td>
<td class="org-right">78</td>
</tr>

<tr>
<td class="org-right">43</td>
<td class="org-right">55</td>
</tr>

<tr>
<td class="org-right">58</td>
<td class="org-right">67</td>
</tr>

<tr>
<td class="org-right">71</td>
<td class="org-right">75</td>
</tr>

<tr>
<td class="org-right">72</td>
<td class="org-right">82</td>
</tr>

<tr>
<td class="org-right">67</td>
<td class="org-right">61</td>
</tr>

<tr>
<td class="org-right">64</td>
<td class="org-right">53</td>
</tr>

<tr>
<td class="org-right">67</td>
<td class="org-right">60</td>
</tr>

<tr>
<td class="org-right">69</td>
<td class="org-right">62</td>
</tr>

<tr>
<td class="org-right">68</td>
<td class="org-right">83</td>
</tr>

<tr>
<td class="org-right">77</td>
<td class="org-right">77</td>
</tr>

<tr>
<td class="org-right">81</td>
<td class="org-right">90</td>
</tr>

<tr>
<td class="org-right">74</td>
<td class="org-right">85</td>
</tr>

<tr>
<td class="org-right">65</td>
<td class="org-right">60</td>
</tr>

<tr>
<td class="org-right">65</td>
<td class="org-right">70</td>
</tr>

<tr>
<td class="org-right">50</td>
<td class="org-right">58</td>
</tr>

<tr>
<td class="org-right">50</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-right">64</td>
<td class="org-right">61</td>
</tr>

<tr>
<td class="org-right">53</td>
<td class="org-right">66</td>
</tr>

<tr>
<td class="org-right">40</td>
<td class="org-right">37</td>
</tr>

<tr>
<td class="org-right">63</td>
<td class="org-right">54</td>
</tr>

<tr>
<td class="org-right">66</td>
<td class="org-right">77</td>
</tr>

<tr>
<td class="org-right">78</td>
<td class="org-right">75</td>
</tr>

<tr>
<td class="org-right">48</td>
<td class="org-right">57</td>
</tr>

<tr>
<td class="org-right">85</td>
<td class="org-right">85</td>
</tr>

<tr>
<td class="org-right">82</td>
<td class="org-right">82</td>
</tr>
</tbody>
</table>


<div class="org-src-container">

<pre class="src src-emacs-lisp">LIST-VAR
</pre>
</div>

<pre class="example">
("" "rating" "complaints" "privileges" "learning" "raises" "critical" "advance")
</pre>


<div class="org-src-container">

<pre class="src src-gnuplot"><span style="color: #8470ff; font-weight: bold;">set</span> grid <span style="color: #63b8ff;">lw</span> 2
<span style="color: #00ffff;">plot</span> data w p <span style="color: #63b8ff;">title</span> <span style="color: #ffc1c1;">"rating and complaints"</span>
</pre>
</div>


<div id="orgparagraph4" class="figure">
<p><img src="figures/emacs-lisp-stat-attitude-gnuplot-01.png" alt="emacs-lisp-stat-attitude-gnuplot-01.png" width="480" />
</p>
<p><span class="figure-number">&#22259;4: </span> emacs-lisp-stat-attitude-gnuplot-01</p>
</div>
</div>
</div>


<div id="outline-container-orgheadline20" class="outline-2">
<h2 id="orgheadline20"><span class="section-number-2">5</span> Conclusion for the Moment</h2>
<div class="outline-text-2" id="text-5">
<p>
I had to realize that:
</p>
<ul class="org-ul">
<li>What on the earth why <b>R is so well built!</b></li>
<li>How <b>easy</b> it is to anlayze data with R.</li>
</ul>

<p>
But <b>ONE MORE THING:</b>
</p>
<ul class="org-ul">
<li>Even for a Sunday programmer, <b>How flexible Emacs Lisp is!</b></li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">&#33879;&#32773;: sugano</p>
<p class="date">Created: 2016-02-04 Thu 01:56</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
